# Вариант 2
# Описание архитектуры системы интернет-магазина
### Попов Илья М8О-109СВ-24

## 1. Изучение задания
Целью работы является создание архитектурного описания системы интернет-магазина в формате Structurizr DSL. Система предоставляет API для управления пользователями, товарами и корзиной.

## 2. Роли пользователей и внешние системы
**Роли пользователей:**
- **Пользователь:** Человек, который взаимодействует с системой для покупки товаров.

**Внешние системы:**
- **Платежная система:** Система, которая интегрируется с магазином для обработки платежей.

## 3. Описание softwareSystem и диаграмма systemContext
**Описание softwareSystem:**
- **Система интернет-магазина:** Предоставляет API для управления пользователями, товарами и корзиной.

**Диаграмма systemContext:**
- Пользователь -> Система интернет-магазина (HTTP/HTTPS).
- Платежная система -> Система интернет-магазина (HTTP/HTTPS).

## 4. Основные задачи пользователей и их реализация
**Задачи пользователей:**
- **Создание нового пользователя:** Реализовано через API Gateway и Пользовательский сервис.
- **Поиск пользователя по логину:** Реализовано через Пользовательский сервис и Базу данных пользователей.
- **Поиск пользователя по маске имени и фамилии:** Реализовано через Пользовательский сервис и Базу данных пользователей.
- **Создание товара:** Реализовано через Товарный сервис и Базу данных товаров.
- **Получение списка товаров:** Реализовано через Товарный сервис и Базу данных товаров.
- **Добавление товара в корзину:** Реализовано через Сервис корзины и Базу данных корзин.
- **Получение корзины для пользователя:** Реализовано через Сервис корзины и Базу данных корзин.

## 5. Перечень контейнеров
**Контейнеры системы:**
- **API Gateway:** Обрабатывает входящие HTTP-запросы и маршрутизирует их к соответствующим сервисам.
- **Пользовательский сервис:** Управляет данными пользователей.
- **Товарный сервис:** Управляет данными товаров.
- **Сервис корзины:** Управляет данными корзин.
- **База данных пользователей:** Хранит данные пользователей.
- **База данных товаров:** Хранит данные товаров.
- **База данных корзин:** Хранит данные корзин.

## 6. Взаимодействие между контейнерами
**Основные взаимодействия:**
- **Создание нового пользователя:** Пользователь -> API Gateway -> Пользовательский сервис -> База данных пользователей.
- **Создание товара:** Пользователь -> API Gateway -> Товарный сервис -> База данных товаров.
- **Добавление товара в корзину:** Пользователь -> API Gateway -> Сервис корзины -> База данных корзин.

## 7. Модель container и диаграмма Container
**Диаграмма Container:**
- API Gateway.
- Пользовательский сервис.
- Товарный сервис.
- Сервис корзины.
- База данных пользователей.
- База данных товаров.
- База данных корзин.

## 8. Технологии
**Технологический стек:**
- **Backend:** Java, Spring Boot
- **Базы данных:** PostgreSQL

## 9. Диаграмма dynamic
**Диаграмма dynamic для добавления товара в корзину:**
- Пользователь -> API Gateway -> Сервис корзины -> База данных корзин.